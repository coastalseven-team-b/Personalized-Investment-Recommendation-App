{"ast":null,"code":"var _jsxFileName = \"/Users/om2k13/Desktop/Personalized-Investment-Recommendation-App/frontend/src/pages/Recommendation.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport axios from \"axios\";\nimport NavBar from \"../components/NavBar\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\n  background: ${({\n  theme\n}) => theme.background};\n  color: black;\n  min-height: 100vh;\n  padding: 32px;\n`;\n_c = Container;\nconst Card = styled.div`\n  background: ${({\n  theme\n}) => theme.card};\n  padding: 24px;\n  border-radius: 8px;\n  margin-bottom: 24px;\n`;\n_c2 = Card;\nconst Button = styled.button`\n  background: ${({\n  theme\n}) => theme.gradientPrimary};\n  color: #fff;\n  border: none;\n  padding: ${({\n  theme\n}) => theme.spacing.md} ${({\n  theme\n}) => theme.spacing.lg};\n  border-radius: ${({\n  theme\n}) => theme.radiusMd};\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s;\n  margin-top: ${({\n  theme\n}) => theme.spacing.md};\n  &:hover {\n    box-shadow: ${({\n  theme\n}) => theme.shadowMd};\n    transform: translateY(-1px);\n  }\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n    transform: none;\n  }\n`;\n_c3 = Button;\nconst Table = styled.table`\n  width: 100%;\n  background: ${({\n  theme\n}) => theme.card};\n  color: ${({\n  theme\n}) => theme.textPrimary};\n  border-radius: ${({\n  theme\n}) => theme.radiusMd};\n  border-collapse: collapse;\n`;\n_c4 = Table;\nconst Th = styled.th`\n  border-bottom: 1px solid ${({\n  theme\n}) => theme.cardBorder};\n  padding: 12px;\n  text-align: center;\n  color: ${({\n  theme\n}) => theme.textSecondary};\n  background: ${({\n  theme\n}) => theme.backgroundTertiary};\n`;\n_c5 = Th;\nconst Td = styled.td`\n  padding: 12px;\n  border-bottom: 1px solid ${({\n  theme\n}) => theme.cardBorder};\n  text-align: center;\n  color: ${({\n  theme\n}) => theme.textPrimary};\n`;\n_c6 = Td;\nconst StyledInput = styled.input`\n  padding: 8px;\n  border-radius: 4px;\n  border: 1px solid ${({\n  theme\n}) => theme.cardBorder};\n  background: ${({\n  theme\n}) => theme.background};\n  color: ${({\n  theme\n}) => theme.textPrimary};\n  min-width: 80px;\n  margin-right: 16px;\n  font-size: 15px;\n  &:focus {\n    outline: none;\n    border-color: ${({\n  theme\n}) => theme.primary};\n    box-shadow: 0 0 0 2px ${({\n  theme\n}) => theme.primary}30;\n  }\n`;\n_c7 = StyledInput;\nfunction Recommendation() {\n  _s();\n  const [recs, setRecs] = useState(null);\n  const [msg, setMsg] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [rtcRecs, setRtcRecs] = useState(null);\n  const [rtcMsg, setRtcMsg] = useState(\"\");\n  const [rtcLoading, setRtcLoading] = useState(false);\n  const [tenure, setTenure] = useState(\"\");\n  const [capital, setCapital] = useState(\"\");\n  const [profile, setProfile] = useState(null);\n  const [behavior, setBehavior] = useState(null);\n  const [prereqMsg, setPrereqMsg] = useState(\"\");\n  const [prereq, setPrereq] = useState({\n    risk: false,\n    behavior: false\n  });\n  const navigate = useNavigate();\n  useEffect(() => {\n    const fetchPrereqs = async () => {\n      const token = localStorage.getItem(\"token\");\n      if (!token) return;\n      try {\n        const headers = {\n          Authorization: `Bearer ${token}`\n        };\n        const profileRes = await axios.get(\"/api/profile\", {\n          headers\n        });\n        setProfile(profileRes.data);\n        let riskOk = profileRes.data.risk_profile_completed && profileRes.data.risk_level && profileRes.data.investment_goal;\n        let behaviorOk = false;\n        try {\n          const txRes = await axios.get(\"/api/transactions\", {\n            headers\n          });\n          setBehavior(txRes.data.behavior);\n          behaviorOk = txRes.data.behavior && txRes.data.behavior.toLowerCase() !== 'unknown';\n        } catch {\n          behaviorOk = false;\n        }\n        setPrereq({\n          risk: riskOk,\n          behavior: behaviorOk\n        });\n        if (!riskOk && !behaviorOk) setPrereqMsg(\"Please complete your risk profile and upload your bank statement before getting recommendations.\");else if (!riskOk) setPrereqMsg(\"Please complete your risk profile before getting recommendations.\");else if (!behaviorOk) setPrereqMsg(\"Please upload your bank statement before getting recommendations.\");else setPrereqMsg(\"\");\n      } catch {\n        setPrereqMsg(\"Failed to load user profile. Please log in again.\");\n      }\n    };\n    fetchPrereqs();\n  }, []);\n  const handleGetRecommendations = async () => {\n    setMsg(\"\");\n    setRecs(null);\n    setLoading(true);\n    const token = localStorage.getItem(\"token\");\n    if (!token) {\n      setMsg(\"You are not logged in. Please log in again.\");\n      setLoading(false);\n      setTimeout(() => navigate(\"/login\"), 1500);\n      return;\n    }\n    try {\n      const res = await axios.post(\"/api/recommend\", {}, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setRecs(res.data.suggestions);\n    } catch (e) {\n      if (e.response && (e.response.status === 401 || e.response.data && (e.response.data.msg || e.response.data.error) && String(e.response.data.msg || e.response.data.error).toLowerCase().includes(\"segment\"))) {\n        setMsg(\"Session expired or invalid. Please log in again.\");\n        setTimeout(() => navigate(\"/login\"), 1500);\n      } else {\n        var _e$response, _e$response$data, _e$response2, _e$response2$data;\n        setMsg(((_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.error) || ((_e$response2 = e.response) === null || _e$response2 === void 0 ? void 0 : (_e$response2$data = _e$response2.data) === null || _e$response2$data === void 0 ? void 0 : _e$response2$data.msg) || \"Failed to get recommendations\");\n      }\n    }\n    setLoading(false);\n  };\n  const handleGetRtcRecommendations = async () => {\n    setRtcMsg(\"\");\n    setRtcRecs(null);\n    const t = parseInt(tenure);\n    const c = parseInt(capital);\n    if (isNaN(t) || t < 1 || t > 10) {\n      setRtcMsg(\"Tenure must be between 1 and 10\");\n      return;\n    }\n    if (isNaN(c) || c < 1000 || c > 100000) {\n      setRtcMsg(\"Capital must be between 1000 and 100000\");\n      return;\n    }\n    setRtcLoading(true);\n    const token = localStorage.getItem(\"token\");\n    if (!token) {\n      setRtcMsg(\"You are not logged in. Please log in again.\");\n      setTimeout(() => navigate(\"/login\"), 1500);\n      setRtcLoading(false);\n      return;\n    }\n    try {\n      const res = await axios.post(\"/api/recommend-rtc\", {\n        tenure: t,\n        capital: c\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setRtcRecs(res.data.suggestions);\n    } catch (e) {\n      if (e.response && (e.response.status === 401 || e.response.data && (e.response.data.msg || e.response.data.error) && String(e.response.data.msg || e.response.data.error).toLowerCase().includes(\"segment\"))) {\n        setRtcMsg(\"Session expired or invalid. Please log in again.\");\n        setTimeout(() => navigate(\"/login\"), 1500);\n      } else {\n        var _e$response3, _e$response3$data, _e$response4, _e$response4$data;\n        setRtcMsg(((_e$response3 = e.response) === null || _e$response3 === void 0 ? void 0 : (_e$response3$data = _e$response3.data) === null || _e$response3$data === void 0 ? void 0 : _e$response3$data.error) || ((_e$response4 = e.response) === null || _e$response4 === void 0 ? void 0 : (_e$response4$data = _e$response4.data) === null || _e$response4$data === void 0 ? void 0 : _e$response4$data.msg) || \"Failed to get recommendations\");\n      }\n    }\n    setRtcLoading(false);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: [prereqMsg && /*#__PURE__*/_jsxDEV(Card, {\n        style: {\n          background: '#fff3cd',\n          color: '#856404',\n          border: '1px solid #ffeeba'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: prereqMsg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 8\n          },\n          children: [!prereq.risk && /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => navigate('/risk-profile'),\n            children: \"Go to Risk Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 32\n          }, this), !prereq.behavior && /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => navigate('/bank-upload'),\n            children: \"Go to Bank Upload\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 36\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Recommendation using Financial Behavior, Risk Profile, and Goal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleGetRecommendations,\n          disabled: loading || !prereq.risk || !prereq.behavior,\n          children: loading ? \"Loading...\" : \"Get Recommendations\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this), msg && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: \"#e53935\",\n            marginTop: 8\n          },\n          children: msg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 19\n        }, this), recs && recs.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 24\n          },\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(Th, {\n                  children: \"Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Th, {\n                  children: \"Type\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Th, {\n                  children: \"Risk\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 209,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Th, {\n                  children: \"Expected Return\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: recs.map((r, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(Td, {\n                  children: r.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Td, {\n                  children: r.type\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Td, {\n                  children: r.risk\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Td, {\n                  children: r.expected_return\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 23\n                }, this)]\n              }, i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Recommendation using Risk, Tenure, and Capital\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 12\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Tenure (1-10): \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(StyledInput, {\n            type: \"number\",\n            min: \"1\",\n            max: \"10\",\n            value: tenure,\n            onChange: e => setTenure(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Capital (1000-100000): \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(StyledInput, {\n            type: \"number\",\n            min: \"1000\",\n            max: \"100000\",\n            value: capital,\n            onChange: e => setCapital(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleGetRtcRecommendations,\n          disabled: rtcLoading || !prereq.risk || !prereq.behavior,\n          children: rtcLoading ? \"Loading...\" : \"Get Recommendations\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this), rtcMsg && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: \"#e53935\",\n            marginTop: 8\n          },\n          children: rtcMsg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 22\n        }, this), rtcRecs && rtcRecs.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 24\n          },\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(Th, {\n                  children: \"Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Th, {\n                  children: \"Type\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 245,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Th, {\n                  children: \"Risk\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Th, {\n                  children: \"Expected Return\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: rtcRecs.map((r, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(Td, {\n                  children: r.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Td, {\n                  children: r.type\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Td, {\n                  children: r.risk\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Td, {\n                  children: r.expected_return\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 23\n                }, this)]\n              }, i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Recommendation, \"1/c3g2e0/ZzOqQRrEPKHaZGBl9Q=\", false, function () {\n  return [useNavigate];\n});\n_c8 = Recommendation;\nexport default Recommendation;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"Card\");\n$RefreshReg$(_c3, \"Button\");\n$RefreshReg$(_c4, \"Table\");\n$RefreshReg$(_c5, \"Th\");\n$RefreshReg$(_c6, \"Td\");\n$RefreshReg$(_c7, \"StyledInput\");\n$RefreshReg$(_c8, \"Recommendation\");","map":{"version":3,"names":["React","useState","useEffect","styled","axios","NavBar","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","Container","div","theme","background","_c","Card","card","_c2","Button","button","gradientPrimary","spacing","md","lg","radiusMd","shadowMd","_c3","Table","table","textPrimary","_c4","Th","th","cardBorder","textSecondary","backgroundTertiary","_c5","Td","td","_c6","StyledInput","input","primary","_c7","Recommendation","_s","recs","setRecs","msg","setMsg","loading","setLoading","rtcRecs","setRtcRecs","rtcMsg","setRtcMsg","rtcLoading","setRtcLoading","tenure","setTenure","capital","setCapital","profile","setProfile","behavior","setBehavior","prereqMsg","setPrereqMsg","prereq","setPrereq","risk","navigate","fetchPrereqs","token","localStorage","getItem","headers","Authorization","profileRes","get","data","riskOk","risk_profile_completed","risk_level","investment_goal","behaviorOk","txRes","toLowerCase","handleGetRecommendations","setTimeout","res","post","suggestions","e","response","status","error","String","includes","_e$response","_e$response$data","_e$response2","_e$response2$data","handleGetRtcRecommendations","t","parseInt","c","isNaN","_e$response3","_e$response3$data","_e$response4","_e$response4$data","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","border","marginTop","onClick","disabled","length","map","r","i","name","type","expected_return","marginBottom","min","max","value","onChange","target","_c8","$RefreshReg$"],"sources":["/Users/om2k13/Desktop/Personalized-Investment-Recommendation-App/frontend/src/pages/Recommendation.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport axios from \"axios\";\r\nimport NavBar from \"../components/NavBar\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Container = styled.div`\r\n  background: ${({ theme }) => theme.background};\r\n  color: black;\r\n  min-height: 100vh;\r\n  padding: 32px;\r\n`;\r\nconst Card = styled.div`\r\n  background: ${({ theme }) => theme.card};\r\n  padding: 24px;\r\n  border-radius: 8px;\r\n  margin-bottom: 24px;\r\n`;\r\nconst Button = styled.button`\r\n  background: ${({ theme }) => theme.gradientPrimary};\r\n  color: #fff;\r\n  border: none;\r\n  padding: ${({ theme }) => theme.spacing.md} ${({ theme }) => theme.spacing.lg};\r\n  border-radius: ${({ theme }) => theme.radiusMd};\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n  margin-top: ${({ theme }) => theme.spacing.md};\r\n  &:hover {\r\n    box-shadow: ${({ theme }) => theme.shadowMd};\r\n    transform: translateY(-1px);\r\n  }\r\n  &:disabled {\r\n    opacity: 0.6;\r\n    cursor: not-allowed;\r\n    transform: none;\r\n  }\r\n`;\r\nconst Table = styled.table`\r\n  width: 100%;\r\n  background: ${({ theme }) => theme.card};\r\n  color: ${({ theme }) => theme.textPrimary};\r\n  border-radius: ${({ theme }) => theme.radiusMd};\r\n  border-collapse: collapse;\r\n`;\r\nconst Th = styled.th`\r\n  border-bottom: 1px solid ${({ theme }) => theme.cardBorder};\r\n  padding: 12px;\r\n  text-align: center;\r\n  color: ${({ theme }) => theme.textSecondary};\r\n  background: ${({ theme }) => theme.backgroundTertiary};\r\n`;\r\nconst Td = styled.td`\r\n  padding: 12px;\r\n  border-bottom: 1px solid ${({ theme }) => theme.cardBorder};\r\n  text-align: center;\r\n  color: ${({ theme }) => theme.textPrimary};\r\n`;\r\nconst StyledInput = styled.input`\r\n  padding: 8px;\r\n  border-radius: 4px;\r\n  border: 1px solid ${({ theme }) => theme.cardBorder};\r\n  background: ${({ theme }) => theme.background};\r\n  color: ${({ theme }) => theme.textPrimary};\r\n  min-width: 80px;\r\n  margin-right: 16px;\r\n  font-size: 15px;\r\n  &:focus {\r\n    outline: none;\r\n    border-color: ${({ theme }) => theme.primary};\r\n    box-shadow: 0 0 0 2px ${({ theme }) => theme.primary}30;\r\n  }\r\n`;\r\n\r\nfunction Recommendation() {\r\n  const [recs, setRecs] = useState(null);\r\n  const [msg, setMsg] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [rtcRecs, setRtcRecs] = useState(null);\r\n  const [rtcMsg, setRtcMsg] = useState(\"\");\r\n  const [rtcLoading, setRtcLoading] = useState(false);\r\n  const [tenure, setTenure] = useState(\"\");\r\n  const [capital, setCapital] = useState(\"\");\r\n  const [profile, setProfile] = useState(null);\r\n  const [behavior, setBehavior] = useState(null);\r\n  const [prereqMsg, setPrereqMsg] = useState(\"\");\r\n  const [prereq, setPrereq] = useState({ risk: false, behavior: false });\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchPrereqs = async () => {\r\n      const token = localStorage.getItem(\"token\");\r\n      if (!token) return;\r\n      try {\r\n        const headers = { Authorization: `Bearer ${token}` };\r\n        const profileRes = await axios.get(\"/api/profile\", { headers });\r\n        setProfile(profileRes.data);\r\n        let riskOk = profileRes.data.risk_profile_completed && profileRes.data.risk_level && profileRes.data.investment_goal;\r\n        let behaviorOk = false;\r\n        try {\r\n          const txRes = await axios.get(\"/api/transactions\", { headers });\r\n          setBehavior(txRes.data.behavior);\r\n          behaviorOk = txRes.data.behavior && txRes.data.behavior.toLowerCase() !== 'unknown';\r\n        } catch {\r\n          behaviorOk = false;\r\n        }\r\n        setPrereq({ risk: riskOk, behavior: behaviorOk });\r\n        if (!riskOk && !behaviorOk) setPrereqMsg(\"Please complete your risk profile and upload your bank statement before getting recommendations.\");\r\n        else if (!riskOk) setPrereqMsg(\"Please complete your risk profile before getting recommendations.\");\r\n        else if (!behaviorOk) setPrereqMsg(\"Please upload your bank statement before getting recommendations.\");\r\n        else setPrereqMsg(\"\");\r\n      } catch {\r\n        setPrereqMsg(\"Failed to load user profile. Please log in again.\");\r\n      }\r\n    };\r\n    fetchPrereqs();\r\n  }, []);\r\n\r\n  const handleGetRecommendations = async () => {\r\n    setMsg(\"\");\r\n    setRecs(null);\r\n    setLoading(true);\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) {\r\n      setMsg(\"You are not logged in. Please log in again.\");\r\n      setLoading(false);\r\n      setTimeout(() => navigate(\"/login\"), 1500);\r\n      return;\r\n    }\r\n    try {\r\n      const res = await axios.post(\"/api/recommend\", {}, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      setRecs(res.data.suggestions);\r\n    } catch (e) {\r\n      if (e.response && (e.response.status === 401 || (e.response.data && (e.response.data.msg || e.response.data.error) && String(e.response.data.msg || e.response.data.error).toLowerCase().includes(\"segment\")))) {\r\n        setMsg(\"Session expired or invalid. Please log in again.\");\r\n        setTimeout(() => navigate(\"/login\"), 1500);\r\n      } else {\r\n        setMsg(e.response?.data?.error || e.response?.data?.msg || \"Failed to get recommendations\");\r\n      }\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleGetRtcRecommendations = async () => {\r\n    setRtcMsg(\"\");\r\n    setRtcRecs(null);\r\n    const t = parseInt(tenure);\r\n    const c = parseInt(capital);\r\n    if (isNaN(t) || t < 1 || t > 10) {\r\n      setRtcMsg(\"Tenure must be between 1 and 10\");\r\n      return;\r\n    }\r\n    if (isNaN(c) || c < 1000 || c > 100000) {\r\n      setRtcMsg(\"Capital must be between 1000 and 100000\");\r\n      return;\r\n    }\r\n    setRtcLoading(true);\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) {\r\n      setRtcMsg(\"You are not logged in. Please log in again.\");\r\n      setTimeout(() => navigate(\"/login\"), 1500);\r\n      setRtcLoading(false);\r\n      return;\r\n    }\r\n    try {\r\n      const res = await axios.post(\"/api/recommend-rtc\", { tenure: t, capital: c }, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      setRtcRecs(res.data.suggestions);\r\n    } catch (e) {\r\n      if (e.response && (e.response.status === 401 || (e.response.data && (e.response.data.msg || e.response.data.error) && String(e.response.data.msg || e.response.data.error).toLowerCase().includes(\"segment\")))) {\r\n        setRtcMsg(\"Session expired or invalid. Please log in again.\");\r\n        setTimeout(() => navigate(\"/login\"), 1500);\r\n      } else {\r\n        setRtcMsg(e.response?.data?.error || e.response?.data?.msg || \"Failed to get recommendations\");\r\n      }\r\n    }\r\n    setRtcLoading(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <NavBar />\r\n      <Container>\r\n        {prereqMsg && (\r\n          <Card style={{ background: '#fff3cd', color: '#856404', border: '1px solid #ffeeba' }}>\r\n            <b>{prereqMsg}</b>\r\n            <div style={{ marginTop: 8 }}>\r\n              {!prereq.risk && <Button onClick={() => navigate('/risk-profile')}>Go to Risk Profile</Button>}\r\n              {!prereq.behavior && <Button onClick={() => navigate('/bank-upload')}>Go to Bank Upload</Button>}\r\n            </div>\r\n          </Card>\r\n        )}\r\n        <Card>\r\n          <h2>Recommendation using Financial Behavior, Risk Profile, and Goal</h2>\r\n          <Button onClick={handleGetRecommendations} disabled={loading || !prereq.risk || !prereq.behavior}>\r\n            {loading ? \"Loading...\" : \"Get Recommendations\"}\r\n          </Button>\r\n          {msg && <div style={{ color: \"#e53935\", marginTop: 8 }}>{msg}</div>}\r\n          {recs && recs.length > 0 && (\r\n            <div style={{ marginTop: 24 }}>\r\n              <Table>\r\n                <thead>\r\n                  <tr>\r\n                    <Th>Name</Th>\r\n                    <Th>Type</Th>\r\n                    <Th>Risk</Th>\r\n                    <Th>Expected Return</Th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {recs.map((r, i) => (\r\n                    <tr key={i}>\r\n                      <Td>{r.name}</Td>\r\n                      <Td>{r.type}</Td>\r\n                      <Td>{r.risk}</Td>\r\n                      <Td>{r.expected_return}</Td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </Table>\r\n            </div>\r\n          )}\r\n        </Card>\r\n        <Card>\r\n          <h2>Recommendation using Risk, Tenure, and Capital</h2>\r\n          <div style={{ marginBottom: 12 }}>\r\n            <label>Tenure (1-10): </label>\r\n            <StyledInput type=\"number\" min=\"1\" max=\"10\" value={tenure} onChange={e => setTenure(e.target.value)} />\r\n            <label>Capital (1000-100000): </label>\r\n            <StyledInput type=\"number\" min=\"1000\" max=\"100000\" value={capital} onChange={e => setCapital(e.target.value)} />\r\n          </div>\r\n          <Button onClick={handleGetRtcRecommendations} disabled={rtcLoading || !prereq.risk || !prereq.behavior}>\r\n            {rtcLoading ? \"Loading...\" : \"Get Recommendations\"}\r\n          </Button>\r\n          {rtcMsg && <div style={{ color: \"#e53935\", marginTop: 8 }}>{rtcMsg}</div>}\r\n          {rtcRecs && rtcRecs.length > 0 && (\r\n            <div style={{ marginTop: 24 }}>\r\n              <Table>\r\n                <thead>\r\n                  <tr>\r\n                    <Th>Name</Th>\r\n                    <Th>Type</Th>\r\n                    <Th>Risk</Th>\r\n                    <Th>Expected Return</Th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {rtcRecs.map((r, i) => (\r\n                    <tr key={i}>\r\n                      <Td>{r.name}</Td>\r\n                      <Td>{r.type}</Td>\r\n                      <Td>{r.risk}</Td>\r\n                      <Td>{r.expected_return}</Td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </Table>\r\n            </div>\r\n          )}\r\n        </Card>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Recommendation; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}